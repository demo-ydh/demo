<view class="container"><view class="bottom-info"><view class="current-location"><text class="location-label">当前位置：</text><text class="location-text">{{address}}</text></view></view><view class="map-view"><map style="width:100%;height:100%;" id="myMap" latitude="{{latitude}}" longitude="{{longitude}}" markers="{{markers}}" polyline="{{polyline}}" show-location="{{true}}"></map></view><view data-event-opts="{{[['tap',[['openNavDialog',['$event']]]]]}}" class="float-action-btn" bindtap="__e"><text>+</text></view><block wx:if="{{showNavDialog}}"><view data-event-opts="{{[['tap',[['closeNavDialog',['$event']]]]]}}" class="nav-dialog-overlay" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="nav-dialog" catchtap="__e"><view class="nav-dialog-header"><text class="nav-dialog-title">设置导航</text><view data-event-opts="{{[['tap',[['closeNavDialog',['$event']]]]]}}" class="nav-dialog-close" bindtap="__e">×</view></view><view class="nav-dialog-content"><view class="search-card"><view class="address-group"><view class="location-tag"><text class="location-text">起</text></view><view class="address-input-group"><text class="address-label">起点</text><input class="address-input" type="text" placeholder="当前位置" disabled="{{true}}" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['startPoint']]]]]}}" value="{{startPoint.name}}" bindinput="__e"/></view></view><view class="divider-line"></view><view class="address-group"><view class="location-tag"><text class="location-text">终</text></view><view class="address-input-group"><text class="address-label">终点</text><input class="address-input" type="text" placeholder="请输入终点" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['endPoint']],['onEndInput',['$event']]]]]}}" value="{{endPoint.name}}" bindinput="__e"/></view></view></view><block wx:if="{{showSearchResults}}"><view class="search-results"><block wx:for="{{searchResults}}" wx:for-item="tip" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectSearchResult',['$0'],[[['searchResults','',index]]]]]]]}}" class="search-result-item" bindtap="__e"><view class="result-icon"><text class="place-text">📍</text></view><view class="result-content"><text class="search-result-name">{{tip.name}}</text><text class="search-result-address">{{tip.address}}</text></view></view></block></view></block><view class="mode-selector"><text class="selector-title">选择出行方式</text><picker range="{{modes}}" range-key="name" value="{{modeIndex}}" data-event-opts="{{[['change',[['onModeChange',['$event']]]]]}}" bindchange="__e"><view class="picker">{{''+modes[modeIndex].name+''}}<view class="picker-arrow"></view></view></picker></view></view><view class="nav-dialog-footer"><block wx:if="{{!isNavigating}}"><button data-event-opts="{{[['tap',[['confirmNavigation',['$event']]]]]}}" class="nav-button start-nav" bindtap="__e">开始导航</button></block><block wx:if="{{isNavigating}}"><button data-event-opts="{{[['tap',[['stopNavigation',['$event']]]]]}}" class="nav-button stop-nav" bindtap="__e">结束导航</button></block><block wx:if="{{isNavigating}}"><text class="nav-status">导航中...</text></block></view></view></view></block></view>